<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>–§–∏–Ω–∞–Ω—Å—ã</title>
    <meta name="theme-color" content="#0B0F14">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="–§–∏–Ω–∞–Ω—Å—ã">
    
    <!-- –°—Ç–∏–ª–∏ -->
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="manifest" href="{{ url_for('static', filename='manifest.json') }}">
    <link rel="icon" sizes="192x192" href="{{ url_for('static', filename='icons/app-icon-192.png') }}">
    <link rel="apple-touch-icon" sizes="180x180" href="{{ url_for('static', filename='icons/apple-touch-icon.png') }}">
    
    <!-- –°–∫—Ä–∏–ø—Ç—ã -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <!-- –ó–∞–≥—Ä—É–∑–∫–∞ -->
    <div id="loading" class="loading">
        <div class="loading-spinner"></div>
        <div class="loading-text" data-i18n="–ó–∞–≥—Ä—É–∑–∫–∞...">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <div id="main-content" style="display: none;">
        <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü -->
        <div class="pages-container">
            <!-- ==================== -->
            <!-- –°–¢–†–ê–ù–ò–¶–ê 1: –ü–ê–ù–ï–õ–¨ - –ü–ï–†–ï–†–ê–ë–û–¢–ê–ù–ù–ê–Ø -->
            <!-- ==================== -->
            <div id="panel-page" class="page active">
                <!-- –û—Å—Ç–∞—Ç–æ–∫ (–∫–æ–º–ø–∞–∫—Ç–Ω—ã–π) -->
                <div class="balance-card">
                    <div class="balance-head">
                        <div class="balance-label" data-i18n="–û—Å—Ç–∞—Ç–æ–∫">–û—Å—Ç–∞—Ç–æ–∫</div>
                        <div class="panel-period-anchor" id="panel-period-anchor"></div>
                    </div>
                    <div class="balance-amount" id="balance">0 ‚ÇΩ</div>
                    <div class="balance-subtitle" data-i18n="–û–±—â–∏–π –±–∞–ª–∞–Ω—Å">–û–±—â–∏–π –±–∞–ª–∞–Ω—Å</div>
                </div>

                <!-- –°–í–û–†–ê–ß–ò–í–ê–ï–ú–´–ï –ö–ê–¢–ï–ì–û–†–ò–ò - –ü–ê–°–¢–ï–õ–¨–ù–´–ï –§–û–ù–´ -->
                
                <!-- –î–æ—Ö–æ–¥—ã -->
                <div class="collapsible-section" data-type="income">
                    <div class="collapsible-header">
                        <div class="collapsible-title">
                            <div class="collapsible-icon">üìà</div>
                            <div class="collapsible-text">
                                <div class="collapsible-name" data-i18n="–î–æ—Ö–æ–¥—ã">–î–æ—Ö–æ–¥—ã</div>
                                <div class="collapsible-summary" id="income-total">0 ‚ÇΩ</div>
                            </div>
                        </div>
                        <div class="collapsible-arrow">‚ñº</div>
                    </div>
                    <div class="collapsible-content">
                        <div class="category-grid" id="income-categories">
                            <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                        </div>
                        <button class="hide-categories-btn" data-type="income">
                            <span data-i18n="–°–∫—Ä—ã—Ç—å">–°–∫—Ä—ã—Ç—å</span>
                            <span>‚ñ≤</span>
                        </button>
                    </div>
                </div>

                <!-- –†–∞—Å—Ö–æ–¥—ã -->
                <div class="collapsible-section" data-type="expense">
                    <div class="collapsible-header">
                        <div class="collapsible-title">
                            <div class="collapsible-icon">üìâ</div>
                            <div class="collapsible-text">
                                <div class="collapsible-name" data-i18n="–†–∞—Å—Ö–æ–¥—ã">–†–∞—Å—Ö–æ–¥—ã</div>
                                <div class="collapsible-summary" id="expense-total">0 ‚ÇΩ</div>
                            </div>
                        </div>
                        <div class="collapsible-arrow">‚ñº</div>
                    </div>
                    <div class="collapsible-content">
                        <div class="category-grid" id="expense-categories">
                            <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                        </div>
                        <button class="hide-categories-btn" data-type="expense">
                            <span data-i18n="–°–∫—Ä—ã—Ç—å">–°–∫—Ä—ã—Ç—å</span>
                            <span>‚ñ≤</span>
                        </button>
                    </div>
                </div>

                <!-- –î–æ–ª–≥–∏ -->
                <div class="collapsible-section" data-type="debts" id="debts-section" style="display: none;">
                    <div class="collapsible-header">
                        <div class="collapsible-title">
                            <div class="collapsible-icon debts">üí∏</div>
                            <div class="collapsible-text">
                                <div class="collapsible-name" data-i18n="–î–æ–ª–≥–∏">–î–æ–ª–≥–∏</div>
                                <div class="collapsible-summary" id="debts-total">0 ‚ÇΩ</div>
                            </div>
                        </div>
                        <div class="collapsible-arrow">‚ñº</div>
                    </div>
                    <div class="collapsible-content">
                        <div class="category-grid" id="debts-categories">
                            <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                        </div>
                        <button class="hide-categories-btn" data-type="debts">
                            <span data-i18n="–°–∫—Ä—ã—Ç—å">–°–∫—Ä—ã—Ç—å</span>
                            <span>‚ñ≤</span>
                        </button>
                    </div>
                </div>

                <!-- –ù–∞–∫–æ–ø–ª–µ–Ω–∏—è -->
                <div class="collapsible-section" data-type="savings">
                    <div class="collapsible-header">
                        <div class="collapsible-title">
                            <div class="collapsible-icon">üí∞</div>
                            <div class="collapsible-text">
                                <div class="collapsible-name" data-i18n="–ù–∞–∫–æ–ø–ª–µ–Ω–∏—è">–ù–∞–∫–æ–ø–ª–µ–Ω–∏—è</div>
                                <div class="collapsible-summary" id="savings-total">0 ‚ÇΩ</div>
                            </div>
                        </div>
                        <div class="collapsible-arrow">‚ñº</div>
                    </div>
                    <div class="collapsible-content">
                        <div class="category-grid" id="savings-categories">
                            <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                        </div>
                        <div class="panel-goals-block">
                            <div class="section-header">
                                <div class="section-title" data-i18n="–ú–æ–∏ —Ü–µ–ª–∏">–ú–æ–∏ —Ü–µ–ª–∏</div>
                            </div>
                            <div class="category-grid" id="panel-goals">
                                <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                            </div>
                        </div>
                        <button class="hide-categories-btn" data-type="savings">
                            <span data-i18n="–°–∫—Ä—ã—Ç—å">–°–∫—Ä—ã—Ç—å</span>
                            <span>‚ñ≤</span>
                        </button>
                    </div>
                </div>

                <!-- –ö–æ—à–µ–ª—å–∫–∏ -->
                <div class="collapsible-section" data-type="wallets">
                    <div class="collapsible-header">
                        <div class="collapsible-title">
                            <div class="collapsible-icon">üí≥</div>
                            <div class="collapsible-text">
                                <div class="collapsible-name" data-i18n="–ö–æ—à–µ–ª—å–∫–∏">–ö–æ—à–µ–ª—å–∫–∏</div>
                                <div class="collapsible-summary" id="wallets-total">0 ‚ÇΩ</div>
                            </div>
                        </div>
                        <div class="collapsible-arrow">‚ñº</div>
                    </div>
                    <div class="collapsible-content">
                        <div class="category-grid" id="wallet-categories">
                            <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                        </div>
                        <button class="hide-categories-btn" data-type="wallets">
                            <span data-i18n="–°–∫—Ä—ã—Ç—å">–°–∫—Ä—ã—Ç—å</span>
                            <span>‚ñ≤</span>
                        </button>
                    </div>
                </div>

                <!-- –ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ -->
                <div class="recent-transactions">
                    <div class="section-header">
                        <div class="section-title" data-i18n="–ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏">–ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏</div>
                        <button class="section-action" onclick="showAllTransactions()" data-i18n="–í—Å–µ">–í—Å–µ</button>
                    </div>
                    <div id="recent-transactions-list">
                        <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                    </div>
                </div>
            </div>

            <!-- ==================== -->
            <!-- –°–¢–†–ê–ù–ò–¶–ê 2: –ò–°–¢–û–†–ò–Ø -->
            <!-- ==================== -->
            <div id="history-page" class="page">
                <!-- –í—ã–±–æ—Ä –º–µ—Å—è—Ü–∞ -->
                <div class="month-selector">
                    <button class="month-nav" id="prev-month">‚Üê</button>
                    <div class="month-display" id="current-month">‚Äî</div>
                    <button class="month-nav" id="next-month">‚Üí</button>
                </div>

                <!-- –§–∏–ª—å—Ç—Ä—ã -->
                <div class="history-filters">
                    <button class="filter-btn all active" data-filter="all" data-i18n="–í—Å–µ">–í—Å–µ</button>
                    <button class="filter-btn income" data-filter="income" data-i18n="–î–æ—Ö–æ–¥—ã">–î–æ—Ö–æ–¥—ã</button>
                    <button class="filter-btn expense" data-filter="expense" data-i18n="–†–∞—Å—Ö–æ–¥—ã">–†–∞—Å—Ö–æ–¥—ã</button>
                    <button class="filter-btn savings" data-filter="savings" data-i18n="–ù–∞–∫–æ–ø–ª–µ–Ω–∏—è">–ù–∞–∫–æ–ø–ª–µ–Ω–∏—è</button>
                </div>

                <!-- –°–ø–∏—Å–æ–∫ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π -->
                <div class="transactions-list" id="month-transactions">
                    <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                </div>
            </div>

            <!-- ==================== -->
            <!-- –°–¢–†–ê–ù–ò–¶–ê 3: –û–¢–ß–Å–¢ -->
            <!-- ==================== -->
            <div id="report-page" class="page">
                <!-- –í–∫–ª–∞–¥–∫–∏ –æ—Ç—á—ë—Ç–∞ -->
                <div class="report-tabs">
                    <button class="report-tab active" data-tab="overview" data-i18n="–û–±–∑–æ—Ä">–û–±–∑–æ—Ä</button>
                    <button class="report-tab" data-tab="income" data-i18n="–î–æ—Ö–æ–¥—ã">–î–æ—Ö–æ–¥—ã</button>
                    <button class="report-tab" data-tab="expense" data-i18n="–†–∞—Å—Ö–æ–¥—ã">–†–∞—Å—Ö–æ–¥—ã</button>
                    <button class="report-tab" data-tab="savings" data-i18n="–ù–∞–∫–æ–ø–ª–µ–Ω–∏—è">–ù–∞–∫–æ–ø–ª–µ–Ω–∏—è</button>
                    <button class="report-tab" data-tab="balance" data-i18n="–ë–∞–ª–∞–Ω—Å">–ë–∞–ª–∞–Ω—Å</button>
                </div>

                <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –≤–∫–ª–∞–¥–æ–∫ -->
                <div class="report-content">
                    <!-- –í–ö–õ–ê–î–ö–ê 1: –û–ë–ó–û–† -->
                    <div id="tab-overview" class="report-section active">
                        <div class="chart-container has-report-period">
                            <div class="chart-title" data-i18n="–§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –æ–±–∑–æ—Ä">–§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –æ–±–∑–æ—Ä</div>
                            <div class="report-chart-period-anchor" id="overview-chart-period-anchor"></div>
                            <div class="chart-wrapper report-chart-wrapper">
                                <button type="button" class="report-chart-arrow report-chart-arrow--prev" data-tab="overview" title="–ú–µ—Å—è—Ü –Ω–∞–∑–∞–¥" aria-label="–ú–µ—Å—è—Ü –Ω–∞–∑–∞–¥">
                                    <svg viewBox="0 0 16 16" aria-hidden="true">
                                        <path d="M10.5 3.5L5.5 8L10.5 12.5" />
                                    </svg>
                                </button>
                                <canvas id="overview-chart"></canvas>
                                <button type="button" class="report-chart-arrow report-chart-arrow--next" data-tab="overview" title="–ú–µ—Å—è—Ü –≤–ø–µ—Ä–µ–¥" aria-label="–ú–µ—Å—è—Ü –≤–ø–µ—Ä–µ–¥">
                                    <svg viewBox="0 0 16 16" aria-hidden="true">
                                        <path d="M5.5 3.5L10.5 8L5.5 12.5" />
                                    </svg>
                                </button>
                            </div>
                            
                            <!-- –ß–∏—Å–ª–æ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ -->
                            <div class="overview-numbers">
                                <div class="overview-item">
                                    <div class="overview-label" data-i18n="–î–æ—Ö–æ–¥—ã">–î–æ—Ö–æ–¥—ã</div>
                                    <div class="overview-value income" id="overview-income">0 ‚ÇΩ</div>
                                </div>
                                <div class="overview-item">
                                    <div class="overview-label" data-i18n="–†–∞—Å—Ö–æ–¥—ã">–†–∞—Å—Ö–æ–¥—ã</div>
                                    <div class="overview-value expense" id="overview-expense">0 ‚ÇΩ</div>
                                </div>
                            </div>
                        </div>

                        <!-- –û–±—â–∏–π –±–∞–ª–∞–Ω—Å -->
                        <div class="chart-container overview-balance-card">
                            <div class="chart-title" data-i18n="–û–±—â–∏–π –±–∞–ª–∞–Ω—Å">–û–±—â–∏–π –±–∞–ª–∞–Ω—Å</div>
                            <div class="overview-balance-wrap">
                                <div class="overview-value overview-value--balance" id="overview-balance">0 ‚ÇΩ</div>
                                <div class="overview-label" data-i18n="–¢–µ–∫—É—â–∏–π –æ—Å—Ç–∞—Ç–æ–∫">–¢–µ–∫—É—â–∏–π –æ—Å—Ç–∞—Ç–æ–∫</div>
                            </div>
                        </div>
                    </div>

                    <!-- –í–ö–õ–ê–î–ö–ê 2: –î–û–•–û–î–´ -->
                    <div id="tab-income" class="report-section">
                        <div class="chart-container has-report-period">
                            <div class="chart-title" data-i18n="–î–æ—Ö–æ–¥—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º">–î–æ—Ö–æ–¥—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º</div>
                            <div class="report-chart-period-anchor" id="income-chart-period-anchor"></div>
                            <div class="chart-row">
                                <div class="chart-wrapper report-chart-wrapper">
                                    <button type="button" class="report-chart-arrow report-chart-arrow--prev" data-tab="income" title="–ú–µ—Å—è—Ü –Ω–∞–∑–∞–¥" aria-label="–ú–µ—Å—è—Ü –Ω–∞–∑–∞–¥">
                                        <svg viewBox="0 0 16 16" aria-hidden="true">
                                            <path d="M10.5 3.5L5.5 8L10.5 12.5" />
                                        </svg>
                                    </button>
                                    <canvas id="income-chart"></canvas>
                                    <button type="button" class="report-chart-arrow report-chart-arrow--next" data-tab="income" title="–ú–µ—Å—è—Ü –≤–ø–µ—Ä–µ–¥" aria-label="–ú–µ—Å—è—Ü –≤–ø–µ—Ä–µ–¥">
                                        <svg viewBox="0 0 16 16" aria-hidden="true">
                                            <path d="M5.5 3.5L10.5 8L5.5 12.5" />
                                        </svg>
                                    </button>
                                </div>
                                <div class="chart-legend" id="income-legend">
                                    <!-- –õ–µ–≥–µ–Ω–¥–∞ –¥–∏–∞–≥—Ä–∞–º–º—ã -->
                                </div>
                            </div>
                        </div>
                        
                        <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–æ—Ö–æ–¥–æ–≤ -->
                        <div class="chart-container">
                            <div class="chart-title" data-i18n="–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–æ—Ö–æ–¥–æ–≤">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–æ—Ö–æ–¥–æ–≤</div>
                            <div id="income-stats" style="padding: 20px; text-align: center; color: var(--ios-text-secondary);" data-i18n="–î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è...">
                                –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è...
                            </div>
                        </div>
                    </div>

                    <!-- –í–ö–õ–ê–î–ö–ê 3: –†–ê–°–•–û–î–´ -->
                    <div id="tab-expense" class="report-section">
                        <div class="chart-container has-report-period">
                            <div class="chart-title" data-i18n="–†–∞—Å—Ö–æ–¥—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º">–†–∞—Å—Ö–æ–¥—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º</div>
                            <div class="report-chart-period-anchor" id="expense-chart-period-anchor"></div>
                            <div class="chart-row">
                                <div class="chart-wrapper report-chart-wrapper">
                                    <button type="button" class="report-chart-arrow report-chart-arrow--prev" data-tab="expense" title="–ú–µ—Å—è—Ü –Ω–∞–∑–∞–¥" aria-label="–ú–µ—Å—è—Ü –Ω–∞–∑–∞–¥">
                                        <svg viewBox="0 0 16 16" aria-hidden="true">
                                            <path d="M10.5 3.5L5.5 8L10.5 12.5" />
                                        </svg>
                                    </button>
                                    <canvas id="expense-chart"></canvas>
                                    <button type="button" class="report-chart-arrow report-chart-arrow--next" data-tab="expense" title="–ú–µ—Å—è—Ü –≤–ø–µ—Ä–µ–¥" aria-label="–ú–µ—Å—è—Ü –≤–ø–µ—Ä–µ–¥">
                                        <svg viewBox="0 0 16 16" aria-hidden="true">
                                            <path d="M5.5 3.5L10.5 8L5.5 12.5" />
                                        </svg>
                                    </button>
                                </div>
                                <div class="chart-legend" id="expense-legend">
                                    <!-- –õ–µ–≥–µ–Ω–¥–∞ –¥–∏–∞–≥—Ä–∞–º–º—ã -->
                                </div>
                            </div>
                        </div>
                        
                        <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤ -->
                        <div class="chart-container">
                            <div class="chart-title" data-i18n="–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤</div>
                            <div id="expense-top" style="padding: 20px; text-align: center; color: var(--ios-text-secondary);" data-i18n="–î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è...">
                                –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è...
                            </div>
                        </div>
                    </div>

                    <!-- –í–ö–õ–ê–î–ö–ê 4: –ù–ê–ö–û–ü–õ–ï–ù–ò–Ø -->
                    <div id="tab-savings" class="report-section">
                        <div class="chart-container">
                            <div class="chart-title" data-i18n="–ù–∞–∫–æ–ø–ª–µ–Ω–∏—è">–ù–∞–∫–æ–ø–ª–µ–Ω–∏—è</div>
                            <div class="chart-wrapper">
                                <canvas id="savings-chart"></canvas>
                            </div>
                            <div class="chart-legend" id="savings-legend">
                                <!-- –õ–µ–≥–µ–Ω–¥–∞ –¥–∏–∞–≥—Ä–∞–º–º—ã -->
                            </div>
                        </div>

                        <!-- –¶–µ–ª–∏ -->
                            <div class="goals-section">
                            <div class="section-header">
                                <div class="section-title" data-i18n="–ú–æ–∏ —Ü–µ–ª–∏">–ú–æ–∏ —Ü–µ–ª–∏</div>
                                <button class="section-action" onclick="showAddGoalModal()">+</button>
                            </div>
                            <div id="goals-list">
                                <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                            </div>
                        </div>
                    </div>

                    <!-- –í–ö–õ–ê–î–ö–ê 5: –ë–ê–õ–ê–ù–° -->
                    <div id="tab-balance" class="report-section">
                        <!-- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ -->
                        <div class="chart-container">
                            <div class="chart-title" data-i18n="–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ä–µ–¥—Å—Ç–≤">–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ä–µ–¥—Å—Ç–≤</div>
                            <div class="chart-row">
                                <div class="chart-wrapper">
                                    <canvas id="distribution-chart"></canvas>
                                </div>
                                <div class="chart-legend" id="distribution-legend">
                                    <!-- –õ–µ–≥–µ–Ω–¥–∞ –¥–∏–∞–≥—Ä–∞–º–º—ã -->
                                </div>
                            </div>
                        </div>

                        <!-- –í—ã–±–æ—Ä –ø–µ—Ä–∏–æ–¥–∞ -->
                        <div class="period-selector">
                            <button class="period-btn" data-period="day" data-i18n="–î–µ–Ω—å">–î–µ–Ω—å</button>
                            <button class="period-btn active" data-period="week" data-i18n="–ù–µ–¥–µ–ª—è">–ù–µ–¥–µ–ª—è</button>
                            <button class="period-btn" data-period="month" data-i18n="–ú–µ—Å—è—Ü">–ú–µ—Å—è—Ü</button>
                        </div>

                        <!-- –î–∏–Ω–∞–º–∏–∫–∞ –±–∞–ª–∞–Ω—Å–∞ -->
                        <div class="chart-container">
                            <div class="chart-title" data-i18n="–î–∏–Ω–∞–º–∏–∫–∞ –±–∞–ª–∞–Ω—Å–∞">–î–∏–Ω–∞–º–∏–∫–∞ –±–∞–ª–∞–Ω—Å–∞</div>
                            <div class="chart-wrapper">
                                <canvas id="dynamics-chart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ==================== -->
            <!-- –°–¢–†–ê–ù–ò–¶–ê 4: –°–ï–†–í–ò–°–´ -->
            <!-- ==================== -->
            <div id="invest-page" class="page">
                <div class="invest-section">
                    <div class="invest-header">
                        <div class="invest-title" data-i18n="–¢–æ–ø –¥–Ω—è">–¢–æ–ø –¥–Ω—è</div>
                        <button class="invest-link" onclick="openInvestAll()" data-i18n="–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ</button>
                    </div>

                    <div class="invest-block">
                        <div class="invest-block-title" data-i18n="–ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã">–ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã</div>
                        <div class="invest-toggle" data-market="crypto">
                            <button class="invest-toggle-btn active" data-kind="gainers" data-i18n="–¢–æ–ø —Ä–æ—Å—Ç–∞">–¢–æ–ø —Ä–æ—Å—Ç–∞</button>
                            <button class="invest-toggle-btn" data-kind="losers" data-i18n="–¢–æ–ø –ø–∞–¥–µ–Ω–∏—è">–¢–æ–ø –ø–∞–¥–µ–Ω–∏—è</button>
                        </div>
                        <div class="invest-grid" id="crypto-grid"></div>
                    </div>

                    <div class="invest-block">
                        <div class="invest-block-title" data-i18n="–ê–∫—Ü–∏–∏">–ê–∫—Ü–∏–∏</div>
                        <div class="invest-toggle" data-market="stocks">
                            <button class="invest-toggle-btn active" data-kind="gainers" data-i18n="–¢–æ–ø —Ä–æ—Å—Ç–∞">–¢–æ–ø —Ä–æ—Å—Ç–∞</button>
                            <button class="invest-toggle-btn" data-kind="losers" data-i18n="–¢–æ–ø –ø–∞–¥–µ–Ω–∏—è">–¢–æ–ø –ø–∞–¥–µ–Ω–∏—è</button>
                        </div>
                        <div class="invest-grid" id="stocks-grid"></div>
                    </div>
                </div>
            </div>

            <!-- ==================== -->
            <!-- –°–¢–†–ê–ù–ò–¶–ê 5: –°–ï–†–í–ò–°–´ -->
            <!-- ==================== -->
            <div id="services-page" class="page">
                <div class="services-section">
                    <div class="service-card subscription-period-card">
                        <div class="service-title" data-i18n="–ü–æ–¥–ø–∏—Å–∫–∞">–ü–æ–¥–ø–∏—Å–∫–∞</div>
                        <div class="subscription-period" id="subscription-period" data-i18n="–ù–µ –∞–∫—Ç–∏–≤–Ω–∞">–ù–µ –∞–∫—Ç–∏–≤–Ω–∞</div>
                    </div>
                    <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ -->
                    <div class="service-card settings-card collapsed" id="settings-card">
                        <button class="settings-header" type="button" aria-expanded="false" onclick="toggleSettingsCard()">
                            <span class="service-title" data-i18n="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
                            <span class="settings-arrow">‚Ä∫</span>
                        </button>
                        <div class="settings-items">
                            <div class="settings-item">
                                <div class="settings-item-title" data-i18n="–û—Å–Ω–æ–≤–Ω–æ–π –∫–æ—à–µ–ª—ë–∫">–û—Å–Ω–æ–≤–Ω–æ–π –∫–æ—à–µ–ª—ë–∫</div>
                                <div class="default-wallet-section">
                                    <div class="default-wallet-display">
                                        <div class="default-wallet-info">
                                            <div class="default-wallet-icon">üí≥</div>
                                            <div class="default-wallet-text">
                                                <div class="default-wallet-label" data-i18n="–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é">–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é</div>
                                                <div class="default-wallet-name" data-i18n="–ö–∞—Ä—Ç–∞">–ö–∞—Ä—Ç–∞</div>
                                            </div>
                                        </div>
                                        <div class="default-wallet-arrow">‚ñº</div>
                                    </div>
                                    <div class="wallet-dropdown" id="wallet-dropdown">
                                        <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                                    </div>
                                </div>
                            </div>
                            <div class="settings-item">
                                <div class="settings-item-title" data-i18n="–í–∞–ª—é—Ç–∞">–í–∞–ª—é—Ç–∞</div>
                                <div class="currency-options">
                                    <button class="currency-option active" data-currency="RUB" onclick="selectCurrency('RUB')">
                                        <span>‚ÇΩ</span> RUB
                                    </button>
                                    <button class="currency-option" data-currency="USD" onclick="selectCurrency('USD')">
                                        <span>$</span> USD
                                    </button>
                                    <button class="currency-option" data-currency="EUR" onclick="selectCurrency('EUR')">
                                        <span>‚Ç¨</span> EUR
                                    </button>
                                    <button class="currency-option" data-currency="GEL" onclick="selectCurrency('GEL')">
                                        <span>‚Çæ</span> GEL
                                    </button>
                                </div>
                            </div>
                            <div class="settings-item">
                                <div class="settings-item-title" data-i18n="–Ø–∑—ã–∫">–Ø–∑—ã–∫</div>
                                <div class="language-select">
                                    <select class="form-select" id="language-select" onchange="setLanguage(this.value)">
                                        <option value="ru" data-i18n="–†—É—Å—Å–∫–∏–π">–†—É—Å—Å–∫–∏–π</option>
                                        <option value="en">English</option>
                                    </select>
                                </div>
                            </div>
                            <div class="settings-item settings-item-row">
                                <div class="settings-item-title" data-i18n="–î–æ–ª–≥–∏">–î–æ–ª–≥–∏</div>
                                <div class="service-toggle">
                                    <label class="switch">
                                        <input type="checkbox" id="debts-toggle">
                                        <span class="slider"></span>
                                    </label>
                                </div>
                            </div>
                            <div class="settings-item">
                                <button class="service-link service-link-compact settings-link" onclick="openAddToHome()">
                                    <span data-i18n="–î–æ–±–∞–≤–∏—Ç—å –Ω–∞ —ç–∫—Ä–∞–Ω">–î–æ–±–∞–≤–∏—Ç—å –Ω–∞ —ç–∫—Ä–∞–Ω</span>
                                    <span class="service-link-arrow">‚Üí</span>
                                </button>
                            </div>
                            <div class="settings-item">
                                <button class="service-link service-link-compact settings-link service-link-danger" onclick="resetAllData()">
                                    <span data-i18n="–°–±—Ä–æ—Å–∏—Ç—å –≤—Å—ë">–°–±—Ä–æ—Å–∏—Ç—å –≤—Å—ë</span>
                                    <span class="service-link-arrow">‚Üí</span>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä -->
                    <div class="service-card">
                        <button class="service-link service-link-compact" onclick="openCompoundCalculator()">
                            <span data-i18n="–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä">–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</span>
                            <span class="service-link-arrow">‚Üí</span>
                        </button>
                    </div>

                    <!-- –°—Ç–∞—Ç—å–∏ (–≤—Ä–µ–º–µ–Ω–Ω–æ —Å–∫—Ä—ã—Ç–æ) -->
                    <div class="service-card" style="display: none;">
                        <button class="service-link service-link-compact" onclick="openArticlesLibrary()">
                            <span data-i18n="–°—Ç–∞—Ç—å–∏">–°—Ç–∞—Ç—å–∏</span>
                            <span class="service-link-arrow">‚Üí</span>
                        </button>
                    </div>

                    <!-- –ö–∞–∫ –æ–ø–ª–∞—Ç–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É -->
                    <div class="service-card">
                        <button class="service-link service-link-compact" onclick="openArticle('subscription_payment_guide')">
                            <span data-i18n="–ö–∞–∫ –æ–ø–ª–∞—Ç–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É">–ö–∞–∫ –æ–ø–ª–∞—Ç–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É</span>
                            <span class="service-link-arrow">‚Üí</span>
                        </button>
                    </div>

                    <!-- –û–±—â–∏–π –∫–æ—à–µ–ª—ë–∫ -->
                    <div class="service-card">
                        <button class="service-link service-link-compact" onclick="openSharedWallet()">
                            <span data-i18n="–û–±—â–∏–π –∫–æ—à–µ–ª—ë–∫">–û–±—â–∏–π –∫–æ—à–µ–ª—ë–∫</span>
                            <span class="service-link-arrow">‚Üí</span>
                        </button>
                    </div>

                    <!-- –ü–æ–¥–ø–∏—Å–∫–∞ -->
                    <div class="service-card">
                        <button class="service-link service-link-compact" onclick="openSubscriptionModal()">
                            <span data-i18n="–ü–æ–¥–ø–∏—Å–∫–∞">–ü–æ–¥–ø–∏—Å–∫–∞</span>
                            <span class="service-link-arrow">‚Üí</span>
                        </button>
                    </div>

                    <!-- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ -->
                    <div class="service-card">
                        <button class="service-link service-link-compact" onclick="openSupportChat()">
                            <span data-i18n="–ü–æ–¥–¥–µ—Ä–∂–∫–∞">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</span>
                            <span class="service-link-arrow">‚Üí</span>
                        </button>
                    </div>

                </div>
            </div>

            <!-- ==================== -->
            <!-- –°–¢–†–ê–ù–ò–¶–ê: –°–¢–ê–¢–¨–ò -->
            <!-- ==================== -->
            <div id="articles-page" class="page">
                <div class="articles-section">
                    <div class="articles-header">
                        <button class="articles-back" onclick="switchPage('services')">‚Üê</button>
                        <div class="articles-title" data-i18n="–°—Ç–∞—Ç—å–∏">–°—Ç–∞—Ç—å–∏</div>
                    </div>
                    <div class="articles-list">
                        <button class="article-card" onclick="openArticle('budget_principles')">
                        <div class="article-card-title" data-i18n="–ß–µ—Ç—ã—Ä–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π –≥—Ä–∞–º–æ—Ç–Ω–æ—Å—Ç–∏">–ß–µ—Ç—ã—Ä–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π –≥—Ä–∞–º–æ—Ç–Ω–æ—Å—Ç–∏</div>
                        <div class="article-card-meta" data-i18n="–ë—é–¥–∂–µ—Ç –∏ –ø—Ä–∏–≤—ã—á–∫–∏">–ë—é–¥–∂–µ—Ç –∏ –ø—Ä–∏–≤—ã—á–∫–∏</div>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- –°—Ç–∞—Ç—å—è: –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ -->
        <div id="article-modal" class="modal-overlay">
            <div class="modal-content article-modal">
                <div class="article-modal-header">
                    <div class="article-modal-title" id="article-modal-title"></div>
                    <button class="article-close" onclick="closeArticle()">‚úï</button>
                </div>
                <div class="article-modal-body" id="article-modal-body"></div>
            </div>
        </div>

        <!-- –ü–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ -->
        <div id="text-modal" class="modal-overlay">
            <div class="modal-content text-modal">
                <div class="modal-header">
                    <div class="modal-title" data-i18n="–û–ø–∏—Å–∞–Ω–∏–µ">–û–ø–∏—Å–∞–Ω–∏–µ</div>
                    <button class="article-close" onclick="closeTextModal()">‚úï</button>
                </div>
                <div class="text-modal-body" id="text-modal-body"></div>
            </div>
        </div>

        <!-- –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å–ª–æ–∂–Ω—ã—Ö –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤ -->
        <div id="compound-modal" class="modal-overlay">
            <div class="modal-content calc-modal">
                <div class="modal-header">
                    <div class="modal-title" data-i18n="–°–ª–æ–∂–Ω—ã–µ –ø—Ä–æ—Ü–µ–Ω—Ç—ã">–°–ª–æ–∂–Ω—ã–µ –ø—Ä–æ—Ü–µ–Ω—Ç—ã</div>
                    <button class="article-close" onclick="closeCompoundCalculator()">‚úï</button>
                </div>
                <form id="compound-form" onsubmit="return false;">
                    <div class="form-group">
                        <label class="form-label" data-i18n="–°—Ç–∞—Ä—Ç–æ–≤—ã–π –∫–∞–ø–∏—Ç–∞–ª">–°—Ç–∞—Ä—Ç–æ–≤—ã–π –∫–∞–ø–∏—Ç–∞–ª</label>
                        <input type="number" class="form-input" id="calc-principal" placeholder="0" min="0" step="1">
                    </div>
                    <div class="form-group">
                        <label class="form-label" data-i18n="–ï–∂–µ–º–µ—Å—è—á–Ω–æ–µ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ">–ï–∂–µ–º–µ—Å—è—á–Ω–æ–µ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ</label>
                        <input type="number" class="form-input" id="calc-monthly" placeholder="0" min="0" step="1">
                    </div>
                    <div class="form-group">
                        <label class="form-label" data-i18n="–ì–æ–¥–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞, %">–ì–æ–¥–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞, %</label>
                        <input type="number" class="form-input" id="calc-rate" placeholder="0" min="0" step="0.1">
                    </div>
                    <div class="form-group">
                        <label class="form-label" data-i18n="–ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤">–ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤</label>
                        <select class="form-select" id="calc-frequency">
                            <option value="12" data-i18n="–ï–∂–µ–º–µ—Å—è—á–Ω–æ">–ï–∂–µ–º–µ—Å—è—á–Ω–æ</option>
                            <option value="4" data-i18n="–ï–∂–µ–∫–≤–∞—Ä—Ç–∞–ª—å–Ω–æ">–ï–∂–µ–∫–≤–∞—Ä—Ç–∞–ª—å–Ω–æ</option>
                            <option value="1" data-i18n="–ï–∂–µ–≥–æ–¥–Ω–æ">–ï–∂–µ–≥–æ–¥–Ω–æ</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label" data-i18n="–°—Ä–æ–∫, –ª–µ—Ç">–°—Ä–æ–∫, –ª–µ—Ç</label>
                        <input type="number" class="form-input" id="calc-years" placeholder="0" min="0" step="1">
                    </div>
                    <button type="button" class="modal-btn primary" onclick="calculateCompound()" style="width: 100%;" data-i18n="–†–∞—Å—Å—á–∏—Ç–∞—Ç—å">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
                </form>
                <div class="calc-result" id="calc-result" style="display: none;">
                    <div class="calc-result-title" data-i18n="–†–µ–∑—É–ª—å—Ç–∞—Ç">–†–µ–∑—É–ª—å—Ç–∞—Ç</div>
                    <div class="calc-result-row">
                        <span data-i18n="–ò—Ç–æ–≥–æ–≤–∞—è —Å—É–º–º–∞">–ò—Ç–æ–≥–æ–≤–∞—è —Å—É–º–º–∞</span>
                        <strong id="calc-total">0</strong>
                    </div>
                    <div class="calc-result-row">
                        <span data-i18n="–í–∑–Ω–æ—Å—ã –≤—Å–µ–≥–æ">–í–∑–Ω–æ—Å—ã –≤—Å–µ–≥–æ</span>
                        <strong id="calc-contrib">0</strong>
                    </div>
                    <div class="calc-result-row">
                        <span data-i18n="–ü—Ä–æ—Ü–µ–Ω—Ç—ã">–ü—Ä–æ—Ü–µ–Ω—Ç—ã</span>
                        <strong id="calc-interest">0</strong>
                    </div>
                    <div class="calc-note" data-i18n="–†–∞—Å—á–µ—Ç —É—á–∏—Ç—ã–≤–∞–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—É—é —á–∞—Å—Ç–æ—Ç—É –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –∏ –µ–∂–µ–º–µ—Å—è—á–Ω–æ–µ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ.">–†–∞—Å—á–µ—Ç —É—á–∏—Ç—ã–≤–∞–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—É—é —á–∞—Å—Ç–æ—Ç—É –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –∏ –µ–∂–µ–º–µ—Å—è—á–Ω–æ–µ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ.</div>
                </div>
                <div class="calc-chart" id="calc-chart-wrap" style="display: none;">
                    <div class="calc-chart-title" data-i18n="–†–æ—Å—Ç –∫–∞–ø–∏—Ç–∞–ª–∞">–†–æ—Å—Ç –∫–∞–ø–∏—Ç–∞–ª–∞</div>
                    <div class="calc-chart-canvas">
                        <canvas id="compound-chart"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª–∫–∞: –≥—Ä–∞—Ñ–∏–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ -->
        <div id="market-modal" class="modal-overlay">
            <div class="modal-content market-modal">
                <div class="article-modal-header">
                    <div class="article-modal-title" id="market-modal-title"></div>
                    <button class="article-close" onclick="closeMarketModal()">‚úï</button>
                </div>
                <div class="market-modal-sub" id="market-modal-sub"></div>
                <div class="market-range" id="market-range">
                    <button class="market-range-btn active" data-range="1d" data-i18n="–î–µ–Ω—å">–î–µ–Ω—å</button>
                    <button class="market-range-btn" data-range="1w" data-i18n="–ù–µ–¥–µ–ª—è">–ù–µ–¥–µ–ª—è</button>
                    <button class="market-range-btn" data-range="1m" data-i18n="–ú–µ—Å—è—Ü">–ú–µ—Å—è—Ü</button>
                    <button class="market-range-btn" data-range="all" data-i18n="–í—Å–µ">–í—Å–µ</button>
                </div>
                <div class="market-chart">
                    <canvas id="market-chart"></canvas>
                </div>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª–∫–∞: –¥–æ–±–∞–≤–∏—Ç—å –Ω–∞ —ç–∫—Ä–∞–Ω -->
        <div id="add-to-home-modal" class="modal-overlay">
            <div class="modal-content">
                <div class="article-modal-header">
                    <div class="article-modal-title" data-i18n="–î–æ–±–∞–≤–∏—Ç—å –Ω–∞ —ç–∫—Ä–∞–Ω">–î–æ–±–∞–≤–∏—Ç—å –Ω–∞ —ç–∫—Ä–∞–Ω</div>
                    <button class="article-close" onclick="closeAddToHome()">‚úï</button>
                </div>
                <div class="article-modal-body">
                    <div class="add-home-note" id="add-home-note" data-i18n="–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä. –í–Ω—É—Ç—Ä–∏ Telegram –º–µ–Ω—é –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ.">–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä. –í–Ω—É—Ç—Ä–∏ Telegram –º–µ–Ω—é –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ.</div>
                    <div class="add-home-steps">
                        <div class="add-home-step" id="add-home-ios">
                            <div class="add-home-title">iOS</div>
                            <div class="add-home-text" data-i18n="–û—Ç–∫—Ä–æ–π—Ç–µ –≤ Safari ‚Üí ¬´–ü–æ–¥–µ–ª–∏—Ç—å—Å—è¬ª ‚Üí ¬´–ù–∞ —ç–∫—Ä–∞–Ω –î–æ–º–æ–π¬ª.">–û—Ç–∫—Ä–æ–π—Ç–µ –≤ Safari ‚Üí ¬´–ü–æ–¥–µ–ª–∏—Ç—å—Å—è¬ª ‚Üí ¬´–ù–∞ —ç–∫—Ä–∞–Ω –î–æ–º–æ–π¬ª.</div>
                        </div>
                        <div class="add-home-step" id="add-home-android">
                            <div class="add-home-title">Android</div>
                            <div class="add-home-text" data-i18n="–û—Ç–∫—Ä–æ–π—Ç–µ –º–µ–Ω—é –±—Ä–∞—É–∑–µ—Ä–∞ ‚Üí ¬´–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ¬ª.">–û—Ç–∫—Ä–æ–π—Ç–µ –º–µ–Ω—é –±—Ä–∞—É–∑–µ—Ä–∞ ‚Üí ¬´–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ¬ª.</div>
                        </div>
                    </div>
                    <button class="service-link add-home-open" onclick="openAddToHomeLink()">
                        <span data-i18n="–û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ">–û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ</span>
                        <span class="service-link-arrow">‚Üí</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª–∫–∞: –æ–±—â–∏–π –∫–æ—à–µ–ª—ë–∫ -->
        <div id="shared-wallet-modal" class="modal-overlay">
            <div class="modal-content">
                <div class="article-modal-header">
                    <div class="article-modal-title" data-i18n="–û–±—â–∏–π –∫–æ—à–µ–ª—ë–∫">–û–±—â–∏–π –∫–æ—à–µ–ª—ë–∫</div>
                    <button class="article-close" onclick="closeSharedWallet()">‚úï</button>
                </div>
                <div class="article-modal-body">
                    <div class="shared-wallet-status-card">
                        <div class="shared-wallet-status" id="shared-wallet-status" data-i18n="–ó–∞–≥—Ä—É–∑–∫–∞...">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                        <div class="shared-wallet-hint" data-i18n="–°–æ–∑–¥–∞–π—Ç–µ –æ–±—â–∏–π –∫–æ—à–µ–ª—ë–∫ –∏–ª–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –ø–æ –∫–æ–¥—É.">–°–æ–∑–¥–∞–π—Ç–µ –æ–±—â–∏–π –∫–æ—à–µ–ª—ë–∫ –∏–ª–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –ø–æ –∫–æ–¥—É.</div>
                    </div>

                    <div class="shared-wallet-actions" id="shared-wallet-actions">
                        <div class="shared-wallet-block">
                            <div class="shared-wallet-title" data-i18n="–°–æ–∑–¥–∞—Ç—å –æ–±—â–∏–π –∫–æ—à–µ–ª—ë–∫">–°–æ–∑–¥–∞—Ç—å –æ–±—â–∏–π –∫–æ—à–µ–ª—ë–∫</div>
                            <div class="shared-wallet-text" data-i18n="–í—ã –±—É–¥–µ—Ç–µ –≤–ª–∞–¥–µ–ª—å—Ü–µ–º –∏ —Å–º–æ–∂–µ—Ç–µ –ø—Ä–∏–≥–ª–∞—Å–∏—Ç—å –¥—Ä—É–≥–∞.">–í—ã –±—É–¥–µ—Ç–µ –≤–ª–∞–¥–µ–ª—å—Ü–µ–º –∏ —Å–º–æ–∂–µ—Ç–µ –ø—Ä–∏–≥–ª–∞—Å–∏—Ç—å –¥—Ä—É–≥–∞.</div>
                            <button class="service-link add-home-open" id="shared-create-btn" onclick="createSharedWallet()">
                                <span data-i18n="–°–æ–∑–¥–∞—Ç—å">–°–æ–∑–¥–∞—Ç—å</span>
                                <span class="service-link-arrow">‚Üí</span>
                            </button>
                        </div>

                        <div class="shared-wallet-block">
                            <div class="shared-wallet-title" data-i18n="–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –ø–æ –∫–æ–¥—É">–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –ø–æ –∫–æ–¥—É</div>
                            <div class="shared-wallet-text" data-i18n="–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è –æ—Ç –≤–ª–∞–¥–µ–ª—å—Ü–∞.">–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è –æ—Ç –≤–ª–∞–¥–µ–ª—å—Ü–∞.</div>
                            <div class="shared-wallet-join">
                                <input class="form-input" id="shared-code-input" placeholder="–ö–æ–¥ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è" data-i18n-placeholder="–ö–æ–¥ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è" />
                                <button class="service-link" onclick="joinSharedWallet()">
                                    <span data-i18n="–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è">–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è</span>
                                    <span class="service-link-arrow">‚Üí</span>
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="shared-wallet-share" id="shared-wallet-share" style="display: none;">
                        <div class="shared-wallet-block">
                            <div class="shared-wallet-title" data-i18n="–ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ">–ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ</div>
                            <div class="shared-wallet-code" data-i18n="–ö–æ–¥:">–ö–æ–¥: <span id="shared-code-value"></span></div>
                            <div class="shared-wallet-share-actions">
                                <button class="service-link" id="shared-copy-code" onclick="copySharedCode()">
                                    <span data-i18n="–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥</span>
                                    <span class="service-link-arrow">‚Üí</span>
                                </button>
                                <button class="service-link" id="shared-copy-link" onclick="copySharedLink()">
                                    <span data-i18n="–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É</span>
                                    <span class="service-link-arrow">‚Üí</span>
                                </button>
                            </div>
                        </div>
                        <button class="service-link" id="shared-leave-btn" onclick="leaveSharedWallet()">
                            <span data-i18n="–û—Ç–∫–ª—é—á–∏—Ç—å—Å—è">–û—Ç–∫–ª—é—á–∏—Ç—å—Å—è</span>
                            <span class="service-link-arrow">‚Üí</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª–∫–∞: –ø–æ–¥–ø–∏—Å–∫–∞ -->
        <div id="subscription-modal" class="modal-overlay">
            <div class="modal-content subscription-modal">
                <div class="article-modal-header">
                    <div class="article-modal-title" data-i18n="–ü–æ–¥–ø–∏—Å–∫–∞">–ü–æ–¥–ø–∏—Å–∫–∞</div>
                    <div class="article-modal-actions">
                        <button class="support-icon" onclick="openSupportChat()" title="–ü–æ–¥–¥–µ—Ä–∂–∫–∞">üí¨</button>
                        <button class="article-close" onclick="closeSubscriptionModal()">‚úï</button>
                    </div>
                </div>
                <div class="article-modal-body">
                    <div class="subscription-card">
                        <div class="subscription-title" data-i18n="–ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø">–ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø</div>
                        <div class="subscription-price" id="subscription-price">$4</div>
                        <div class="subscription-note" data-i18n="–û–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ Crypto Bot">–û–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ Crypto Bot</div>
                        <div class="subscription-network" data-i18n="USDT ‚Ä¢ —Å–µ—Ç—å TON">USDT ‚Ä¢ —Å–µ—Ç—å TON</div>
                        <div class="subscription-duration">
                            <select class="form-select" id="subscription-duration" onchange="setSubscriptionDuration(this.value)">
                                <option value="1" data-i18n="1 –º–µ—Å—è—Ü ‚Äî $4">1 –º–µ—Å—è—Ü ‚Äî $4</option>
                                <option value="3" data-i18n="3 –º–µ—Å—è—Ü–∞ ‚Äî $10.5">3 –º–µ—Å—è—Ü–∞ ‚Äî $10.5</option>
                                <option value="6" data-i18n="6 –º–µ—Å—è—Ü–µ–≤ ‚Äî $18">6 –º–µ—Å—è—Ü–µ–≤ ‚Äî $18</option>
                                <option value="12" data-i18n="12 –º–µ—Å—è—Ü–µ–≤ ‚Äî $30">12 –º–µ—Å—è—Ü–µ–≤ ‚Äî $30</option>
                            </select>
                        </div>
                        <div class="subscription-status" id="subscription-status" data-i18n="–°–æ–∑–¥–∞–π—Ç–µ –æ–ø–ª–∞—Ç—É">–°–æ–∑–¥–∞–π—Ç–µ –æ–ø–ª–∞—Ç—É</div>
                        <div class="subscription-promo">
                            <input class="form-input" id="subscription-promo-code" placeholder="–ü—Ä–æ–º–æ–∫–æ–¥" data-i18n-placeholder="–ü—Ä–æ–º–æ–∫–æ–¥" />
                            <button class="service-link subscription-confirm" id="subscription-promo-apply" onclick="redeemPromoCode()">
                                <span data-i18n="–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥">–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥</span>
                                <span class="service-link-arrow">‚Üí</span>
                            </button>
                        </div>
                        <div class="subscription-address" id="subscription-address-wrap" style="display: none;">
                            <div class="subscription-address-label" data-i18n="–ê–¥—Ä–µ—Å">–ê–¥—Ä–µ—Å</div>
                            <div class="subscription-address-value" id="subscription-address"></div>
                        </div>
                        <div class="subscription-amount" id="subscription-amount-wrap" style="display: none;">
                            <div class="subscription-address-label" data-i18n="–°—É–º–º–∞">–°—É–º–º–∞</div>
                            <div class="subscription-address-value" id="subscription-amount"></div>
                        </div>
                        <button class="service-link subscription-confirm" id="subscription-create" onclick="createCryptoPayPayment()">
                            <span data-i18n="–°–æ–∑–¥–∞—Ç—å –æ–ø–ª–∞—Ç—É">–°–æ–∑–¥–∞—Ç—å –æ–ø–ª–∞—Ç—É</span>
                            <span class="service-link-arrow">‚Üí</span>
                        </button>
                        <button class="service-link subscription-copy" id="subscription-copy-address" onclick="copySubscriptionAddress()" style="display: none;">
                            <span data-i18n="–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∞–¥—Ä–µ—Å">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∞–¥—Ä–µ—Å</span>
                            <span class="service-link-arrow">‚Üí</span>
                        </button>
                        <button class="service-link subscription-copy" id="subscription-copy-amount" onclick="copySubscriptionAmount()" style="display: none;">
                            <span data-i18n="–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—É–º–º—É">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—É–º–º—É</span>
                            <span class="service-link-arrow">‚Üí</span>
                        </button>
                        <button class="service-link subscription-copy" id="subscription-open-invoice" onclick="openSubscriptionInvoice()" style="display: none;">
                            <span data-i18n="–û—Ç–∫—Ä—ã—Ç—å –æ–ø–ª–∞—Ç—É">–û—Ç–∫—Ä—ã—Ç—å –æ–ø–ª–∞—Ç—É</span>
                            <span class="service-link-arrow">‚Üí</span>
                        </button>
                        <button class="service-link subscription-confirm" id="subscription-check" onclick="checkSubscriptionStatus()" style="display: none;">
                            <span data-i18n="–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–ø–ª–∞—Ç—É">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–ø–ª–∞—Ç—É</span>
                            <span class="service-link-arrow">‚Üí</span>
                        </button>
                    </div>

                    <div class="subscription-admin" id="subscription-admin">
                        <div class="subscription-admin-title" data-i18n="–ê–¥–º–∏–Ω –¥–æ—Å—Ç—É–ø">–ê–¥–º–∏–Ω –¥–æ—Å—Ç—É–ø</div>
                        <div class="subscription-admin-note"><span data-i18n="–í–∞—à username:">–í–∞—à username:</span> <span id="subscription-user-name">‚Äî</span></div>
                        <button class="service-link service-link-compact" onclick="prefillAdminUsername()">
                            <span data-i18n="–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–π username">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–π username</span>
                            <span class="service-link-arrow">‚Üí</span>
                        </button>
                        <div class="subscription-admin-form">
                            <input class="form-input" id="subscription-admin-user" placeholder="User ID –∏–ª–∏ @username" data-i18n-placeholder="User ID –∏–ª–∏ @username" />
                            <input class="form-input" id="subscription-admin-key" placeholder="Admin key" data-i18n-placeholder="Admin key" />
                            <select class="form-select" id="subscription-admin-months">
                                <option value="1" data-i18n="1 –º–µ—Å—è—Ü">1 –º–µ—Å—è—Ü</option>
                                <option value="3" data-i18n="3 –º–µ—Å—è—Ü–∞">3 –º–µ—Å—è—Ü–∞</option>
                                <option value="6" data-i18n="6 –º–µ—Å—è—Ü–µ–≤">6 –º–µ—Å—è—Ü–µ–≤</option>
                                <option value="12" data-i18n="12 –º–µ—Å—è—Ü–µ–≤">12 –º–µ—Å—è—Ü–µ–≤</option>
                            </select>
                            <button class="service-link" onclick="grantSubscriptionManual()">
                                <span data-i18n="–í—ã–¥–∞—Ç—å –ø–æ–¥–ø–∏—Å–∫—É">–í—ã–¥–∞—Ç—å –ø–æ–¥–ø–∏—Å–∫—É</span>
                                <span class="service-link-arrow">‚Üí</span>
                            </button>
                        </div>
                        <div class="subscription-admin-divider"></div>
                        <div class="subscription-admin-title" data-i18n="–ü—Ä–æ–º–æ–∫–æ–¥—ã">–ü—Ä–æ–º–æ–∫–æ–¥—ã</div>
                        <button class="service-link service-link-compact" onclick="loadPromoStats()">
                            <span data-i18n="–ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É">–ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É</span>
                            <span class="service-link-arrow">‚Üí</span>
                        </button>
                        <div class="promo-stats" id="promo-stats"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- –ù–∏–∂–Ω—è—è –ø–∞–Ω–µ–ª—å –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ -->
        <nav class="bottom-nav">
            <button class="nav-item active" data-page="panel">
                <span class="nav-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M3 3h8v8H3zM3 13h8v8H3zM13 3h8v4h-8zM13 9h8v4h-8zM13 15h8v4h-8zM13 21h8v2h-8z"/>
                    </svg>
                </span>
                <span class="nav-label" data-i18n="–ü–∞–Ω–µ–ª—å">–ü–∞–Ω–µ–ª—å</span>
            </button>
            <button class="nav-item" data-page="history">
                <span class="nav-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm0 18c-4.4 0-8-3.6-8-8s3.6-8 8-8 8 3.6 8 8-3.6 8-8 8z"/>
                        <path d="M12.5 7H11v6l5.2 3.2.8-1.3-4.5-2.7V7z"/>
                    </svg>
                </span>
                <span class="nav-label" data-i18n="–ò—Å—Ç–æ—Ä–∏—è">–ò—Å—Ç–æ—Ä–∏—è</span>
            </button>
            <button class="nav-item" data-page="report">
                <span class="nav-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M3 3v18h18V3H3zm16 16H5V5h14v14z"/>
                        <path d="M7 12h2v5H7zM10 7h2v10h-2zM13 10h2v7h-2zM16 9h2v8h-2z"/>
                    </svg>
                </span>
                <span class="nav-label" data-i18n="–û—Ç—á—ë—Ç">–û—Ç—á—ë—Ç</span>
            </button>
            <button class="nav-item" data-page="invest">
                <span class="nav-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M4 19h16v2H4zM6 17V7h3v10H6zm5 0V3h3v14h-3zm5 0v-6h3v6h-3z"/>
                    </svg>
                </span>
                <span class="nav-label" data-i18n="–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏">–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏</span>
            </button>
            <button class="nav-item" data-page="services">
                <span class="nav-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
                        <circle cx="12" cy="12" r="2.5"/>
                        <path d="M12 5.5c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 9c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/>
                    </svg>
                </span>
                <span class="nav-label" data-i18n="–°–µ—Ä–≤–∏—Å—ã">–°–µ—Ä–≤–∏—Å—ã</span>
            </button>
        </nav>

        <!-- –ö–Ω–æ–ø–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è (+) -->
        <button id="add-transaction-btn" class="add-button">+</button>

        <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
        <div id="notification" class="notification"></div>
    </div>

    <!-- ==================== -->
    <!-- –ú–û–î–ê–õ–¨–ù–´–ï –û–ö–ù–ê -->
    <!-- ==================== -->

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ -->
    <div id="add-transaction-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title" id="transaction-modal-title" data-i18n="–î–æ–±–∞–≤–∏—Ç—å –¥–æ—Ö–æ–¥">–î–æ–±–∞–≤–∏—Ç—å –¥–æ—Ö–æ–¥</div>
            </div>
            
            <!-- –í–∫–ª–∞–¥–∫–∏ —Ç–∏–ø–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ - –ü–ê–°–¢–ï–õ–¨–ù–´–ï –¶–í–ï–¢–ê -->
            <div class="modal-tabs">
                <button class="modal-tab income active" data-type="income" data-i18n="–î–æ—Ö–æ–¥">–î–æ—Ö–æ–¥</button>
                <button class="modal-tab expense" data-type="expense" data-i18n="–†–∞—Å—Ö–æ–¥">–†–∞—Å—Ö–æ–¥</button>
                <button class="modal-tab savings" data-type="savings" data-i18n="–ù–∞–∫–æ–ø–ª–µ–Ω–∏–µ">–ù–∞–∫–æ–ø–ª–µ–Ω–∏–µ</button>
                <button class="modal-tab debt" data-type="debt" data-i18n="–î–æ–ª–≥" style="display: none;">–î–æ–ª–≥</button>
            </div>
            
            <form id="add-transaction-form">
                <div class="form-group">
                    <label class="form-label" data-i18n="–°—É–º–º–∞">–°—É–º–º–∞</label>
                    <div style="position: relative;">
                        <span style="position: absolute; left: 16px; top: 50%; transform: translateY(-50%); font-size: 17px; color: var(--ios-text-secondary);" id="modal-currency-symbol">‚ÇΩ</span>
                        <input type="number" class="form-input" id="transaction-amount" placeholder="0" min="1" step="1" required style="padding-left: 50px;">
                    </div>
                </div>
                
                <!-- –î–ª—è –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–π –∑–¥–µ—Å—å –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –≤—ã–±–æ—Ä –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è -->
                
                <div class="form-group" id="transaction-category-group">
                    <label class="form-label" data-i18n="–ö–∞—Ç–µ–≥–æ—Ä–∏—è">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                    <select class="form-select" id="transaction-category" required>
                        <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label" data-i18n="–ö–æ—à–µ–ª—ë–∫">–ö–æ—à–µ–ª—ë–∫</label>
                    <select class="form-select" id="transaction-wallet">
                        <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label" data-i18n="–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)">–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
                    <input type="text" class="form-input" id="transaction-description" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ó–∞—Ä–ø–ª–∞—Ç–∞ –∑–∞ —Ñ–µ–≤—Ä–∞–ª—å" data-i18n-placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ó–∞—Ä–ø–ª–∞—Ç–∞ –∑–∞ —Ñ–µ–≤—Ä–∞–ª—å">
                </div>

                <div class="form-group" id="transaction-date-time-group" style="display: none;">
                    <label class="form-label" data-i18n="–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è">–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è</label>
                    <input type="datetime-local" class="form-input" id="transaction-date-time">
                </div>
                
                <div class="modal-actions">
                    <button type="button" class="modal-btn secondary" onclick="closeModal('add-transaction-modal')">
                        <span data-i18n="–û—Ç–º–µ–Ω–∞">–û—Ç–º–µ–Ω–∞</span>
                    </button>
                    <button type="button" class="modal-btn danger" id="transaction-delete-btn" onclick="deleteEditingTransaction()" style="display: none;">
                        <span data-i18n="–£–¥–∞–ª–∏—Ç—å">–£–¥–∞–ª–∏—Ç—å</span>
                    </button>
                    <button type="submit" class="modal-btn primary">
                        <span data-i18n="–î–æ–±–∞–≤–∏—Ç—å">–î–æ–±–∞–≤–∏—Ç—å</span>
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ -->
    <div id="add-category-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title" id="category-modal-title" data-i18n="–î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é">–î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é</div>
            </div>
            
            <form id="add-category-form">
                <div class="form-group">
                    <label class="form-label" data-i18n="–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏">–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</label>
                    <input type="text" class="form-input" id="category-name-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ö–∞—Ñ–µ" data-i18n-placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ö–∞—Ñ–µ" maxlength="20" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label" data-i18n="–ò–∫–æ–Ω–∫–∞">–ò–∫–æ–Ω–∫–∞</label>
                    <div class="icon-picker" id="icons-grid">
                        <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label" data-i18n="–¶–≤–µ—Ç">–¶–≤–µ—Ç</label>
                    <div class="color-picker" id="color-grid">
                        <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                    </div>
                </div>
                
                <div class="modal-actions">
                    <button type="button" class="modal-btn secondary" onclick="closeModal('add-category-modal')">
                        <span data-i18n="–û—Ç–º–µ–Ω–∞">–û—Ç–º–µ–Ω–∞</span>
                    </button>
                    <button type="submit" class="modal-btn primary">
                        <span data-i18n="–°–æ—Ö—Ä–∞–Ω–∏—Ç—å">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</span>
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ü–µ–ª–∏ -->
    <div id="add-goal-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title" id="goal-modal-title" data-i18n="–ù–æ–≤–∞—è —Ü–µ–ª—å">–ù–æ–≤–∞—è —Ü–µ–ª—å</div>
            </div>
            
            <form id="add-goal-form">
                <div class="form-group">
                    <label class="form-label" data-i18n="–ù–∞–∑–≤–∞–Ω–∏–µ —Ü–µ–ª–∏">–ù–∞–∑–≤–∞–Ω–∏–µ —Ü–µ–ª–∏</label>
                    <input type="text" class="form-input" id="goal-name-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ù–æ–≤—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω" data-i18n-placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ù–æ–≤—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω" maxlength="30" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label" data-i18n="–¶–µ–ª–µ–≤–∞—è —Å—É–º–º–∞">–¶–µ–ª–µ–≤–∞—è —Å—É–º–º–∞</label>
                    <div style="position: relative;">
                        <span style="position: absolute; left: 16px; top: 50%; transform: translateY(-50%); font-size: 17px; color: var(--ios-text-secondary);" id="goal-currency-symbol">‚ÇΩ</span>
                        <input type="number" class="form-input" id="goal-target-amount" placeholder="0" min="1" step="1" required style="padding-left: 50px;">
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label" data-i18n="–°—Ä–æ–∫">–°—Ä–æ–∫</label>
                    <select class="form-select" id="goal-deadline">
                        <option value="none" data-i18n="–ë–µ—Å—Å—Ä–æ—á–Ω–∞—è">–ë–µ—Å—Å—Ä–æ—á–Ω–∞—è</option>
                        <option value="1month" data-i18n="1 –º–µ—Å—è—Ü">1 –º–µ—Å—è—Ü</option>
                        <option value="3months" data-i18n="3 –º–µ—Å—è—Ü–∞">3 –º–µ—Å—è—Ü–∞</option>
                        <option value="6months" data-i18n="6 –º–µ—Å—è—Ü–µ–≤">6 –º–µ—Å—è—Ü–µ–≤</option>
                        <option value="1year" data-i18n="1 –≥–æ–¥">1 –≥–æ–¥</option>
                        <option value="custom" data-i18n="–£–∫–∞–∑–∞—Ç—å –¥–∞—Ç—É">–£–∫–∞–∑–∞—Ç—å –¥–∞—Ç—É</option>
                    </select>
                </div>
                
                <div class="form-group" id="custom-date-container" style="display: none;">
                    <label class="form-label" data-i18n="–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è">–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è</label>
                    <input type="date" class="form-input" id="goal-custom-date">
                </div>
                
                <div class="form-group">
                    <label class="form-label" data-i18n="–ò–∫–æ–Ω–∫–∞">–ò–∫–æ–Ω–∫–∞</label>
                    <div class="icon-picker" id="goal-icons-grid">
                        <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label" data-i18n="–¶–≤–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞">–¶–≤–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞</label>
                    <div class="color-picker" id="goal-color-grid">
                        <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                    </div>
                </div>
                
                <div class="modal-actions">
                    <button type="button" class="modal-btn secondary" onclick="closeModal('add-goal-modal')">
                        <span data-i18n="–û—Ç–º–µ–Ω–∞">–û—Ç–º–µ–Ω–∞</span>
                    </button>
                    <button type="button" class="modal-btn danger" id="goal-delete-btn" onclick="deleteGoal()" style="display: none;">
                        <span data-i18n="–£–¥–∞–ª–∏—Ç—å —Ü–µ–ª—å">–£–¥–∞–ª–∏—Ç—å —Ü–µ–ª—å</span>
                    </button>
                    <button type="submit" class="modal-btn primary">
                        <span id="goal-submit-text" data-i18n="–°–æ–∑–¥–∞—Ç—å —Ü–µ–ª—å">–°–æ–∑–¥–∞—Ç—å —Ü–µ–ª—å</span>
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å–æ–∑–¥–∞–Ω–∏—è –¥–æ–ª–≥–∞ -->
    <div id="add-debt-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title" data-i18n="–°–æ–∑–¥–∞—Ç—å –¥–æ–ª–≥">–°–æ–∑–¥–∞—Ç—å –¥–æ–ª–≥</div>
            </div>

            <form id="add-debt-form">
                <div class="form-group">
                    <label class="form-label" data-i18n="–ù–∞–∑–≤–∞–Ω–∏–µ –¥–æ–ª–≥–∞">–ù–∞–∑–≤–∞–Ω–∏–µ –¥–æ–ª–≥–∞</label>
                    <input type="text" class="form-input" id="debt-name-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ö—Ä–µ–¥–∏—Ç" data-i18n-placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ö—Ä–µ–¥–∏—Ç" maxlength="30" required>
                </div>

                <div class="form-group">
                    <label class="form-label" data-i18n="–°—É–º–º–∞ –¥–æ–ª–≥–∞">–°—É–º–º–∞ –¥–æ–ª–≥–∞</label>
                    <div style="position: relative;">
                        <span style="position: absolute; left: 16px; top: 50%; transform: translateY(-50%); font-size: 17px; color: var(--ios-text-secondary);" id="debt-currency-symbol">‚ÇΩ</span>
                        <input type="number" class="form-input" id="debt-amount-input" placeholder="0" min="1" step="1" required style="padding-left: 50px;">
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label" data-i18n="–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
                    <input type="text" class="form-input" id="debt-note-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –†–∞—Å—Å—Ä–æ—á–∫–∞" data-i18n-placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –†–∞—Å—Å—Ä–æ—á–∫–∞" maxlength="60">
                </div>

                <div class="modal-actions">
                    <button type="button" class="modal-btn secondary" onclick="closeDebtModal()">
                        <span data-i18n="–û—Ç–º–µ–Ω–∞">–û—Ç–º–µ–Ω–∞</span>
                    </button>
                    <button type="button" class="modal-btn danger" id="debt-delete-btn" onclick="deleteDebt()" style="display: none;">
                        <span data-i18n="–£–¥–∞–ª–∏—Ç—å –¥–æ–ª–≥">–£–¥–∞–ª–∏—Ç—å –¥–æ–ª–≥</span>
                    </button>
                    <button type="submit" class="modal-btn primary">
                        <span id="debt-submit-text" data-i18n="–°–æ–∑–¥–∞—Ç—å –¥–æ–ª–≥">–°–æ–∑–¥–∞—Ç—å –¥–æ–ª–≥</span>
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—Å–µ—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π -->
    <div id="all-transactions-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
            <div class="modal-title" data-i18n="–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏">–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏</div>
            </div>
            <div id="all-transactions-list" style="max-height: 400px; overflow-y: auto; margin: -16px;">
                <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
            </div>
            <div class="modal-actions" style="margin-top: 16px;">
                <button type="button" class="modal-btn secondary" onclick="closeModal('all-transactions-modal')" style="width: 100%;" data-i18n="–ó–∞–∫—Ä—ã—Ç—å">
                    –ó–∞–∫—Ä—ã—Ç—å
                </button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—Å–µ—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π -->
    <div id="all-categories-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title" id="all-categories-title" data-i18n="–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</div>
            </div>
            <div id="all-categories-list" style="max-height: 400px; overflow-y: auto; margin: -16px;">
                <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
            </div>
            <div class="modal-actions" style="margin-top: 16px;">
                <button type="button" class="modal-btn secondary" onclick="closeModal('all-categories-modal')" style="width: 100%;" data-i18n="–ó–∞–∫—Ä—ã—Ç—å">
                    –ó–∞–∫—Ä—ã—Ç—å
                </button>
            </div>
        </div>
    </div>

    <!-- –ö–∞–ª–µ–Ω–¥–∞—Ä—å –≤—ã–±–æ—Ä–∞ –º–µ—Å—è—Ü–∞ -->
    <div id="calendar-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title" data-i18n="–í—ã–±–µ—Ä–∏—Ç–µ –º–µ—Å—è—Ü">–í—ã–±–µ—Ä–∏—Ç–µ –º–µ—Å—è—Ü</div>
            </div>
            <div class="calendar-grid" id="calendar-grid" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; padding: 20px 0;">
                <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
            </div>
            <div class="year-selector" style="display: flex; align-items: center; justify-content: space-between; margin-top: 24px; padding: 0 20px;">
                <button class="modal-btn secondary" onclick="changeCalendarYear(-1)" style="width: 40px; height: 40px; border-radius: 20px; padding: 0;">‚Üê</button>
                <div style="font-size: 18px; font-weight: 600;" id="calendar-year">2026</div>
                <button class="modal-btn secondary" onclick="changeCalendarYear(1)" style="width: 40px; height: 40px; border-radius: 20px; padding: 0;">‚Üí</button>
            </div>
            <div class="modal-actions" style="margin-top: 24px;">
                <button type="button" class="modal-btn secondary" onclick="closeModal('calendar-modal')" style="width: 100%;">
                    <span data-i18n="–û—Ç–º–µ–Ω–∞">–û—Ç–º–µ–Ω–∞</span>
                </button>
            </div>
        </div>
    </div>

    <!-- –í—ã–±–æ—Ä –ø–µ—Ä–∏–æ–¥–∞ –¥–ª—è –æ—Ç—á—ë—Ç–∞ -->
    <div id="report-period-modal" class="modal-overlay">
        <div class="modal-content report-period-modal">
            <div class="modal-header">
                <div class="modal-title" id="report-period-title" data-i18n="–ü–µ—Ä–∏–æ–¥">–ü–µ—Ä–∏–æ–¥</div>
            </div>
            <div class="report-period-quick" id="report-period-quick"></div>
            <div class="report-period-grid" id="report-period-grid"></div>
            <div class="modal-actions" style="margin-top: 20px;">
                <button type="button" class="modal-btn secondary" onclick="closeReportPeriodModal()" style="width: 100%;">
                    <span data-i18n="–û—Ç–º–µ–Ω–∞">–û—Ç–º–µ–Ω–∞</span>
                </button>
            </div>
        </div>
    </div>

    <!-- –°–≤–æ–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –¥–ª—è –æ—Ç—á—ë—Ç–æ–≤ -->
    <div id="report-range-modal" class="modal-overlay">
        <div class="modal-content panel-range-modal">
            <div class="modal-header">
                <div class="modal-title" data-i18n="–°–≤–æ–π –∏–Ω—Ç–µ—Ä–≤–∞–ª">–°–≤–æ–π –∏–Ω—Ç–µ—Ä–≤–∞–ª</div>
            </div>
            <div class="panel-range-grid">
                <span class="panel-range-label" data-i18n="–°">–°</span>
                <input type="date" id="report-range-modal-from" class="form-input panel-range-input" />
                <span class="panel-range-separator" data-i18n="–ø–æ">–ø–æ</span>
                <input type="date" id="report-range-modal-to" class="form-input panel-range-input" />
            </div>
            <div class="modal-actions" style="margin-top: 20px;">
                <button type="button" class="modal-btn secondary" onclick="closeReportRangeModal()">
                    <span data-i18n="–û—Ç–º–µ–Ω–∞">–û—Ç–º–µ–Ω–∞</span>
                </button>
                <button type="button" class="modal-btn primary" onclick="applyReportCustomRange()">
                    <span data-i18n="–°–æ—Ö—Ä–∞–Ω–∏—Ç—å">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</span>
                </button>
            </div>
        </div>
    </div>

    <!-- –°–≤–æ–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –¥–ª—è –ø–∞–Ω–µ–ª–∏ -->
    <div id="panel-range-modal" class="modal-overlay">
        <div class="modal-content panel-range-modal">
            <div class="modal-header">
                <div class="modal-title" data-i18n="–°–≤–æ–π –∏–Ω—Ç–µ—Ä–≤–∞–ª">–°–≤–æ–π –∏–Ω—Ç–µ—Ä–≤–∞–ª</div>
            </div>
            <div class="panel-range-grid">
                <span class="panel-range-label" data-i18n="–°">–°</span>
                <input type="date" id="panel-range-modal-from" class="form-input panel-range-input" />
                <span class="panel-range-separator" data-i18n="–ø–æ">–ø–æ</span>
                <input type="date" id="panel-range-modal-to" class="form-input panel-range-input" />
            </div>
            <div class="modal-actions" style="margin-top: 20px;">
                <button type="button" class="modal-btn secondary" onclick="closePanelRangeModal()">
                    <span data-i18n="–û—Ç–º–µ–Ω–∞">–û—Ç–º–µ–Ω–∞</span>
                </button>
                <button type="button" class="modal-btn primary" onclick="applyPanelCustomRange()">
                    <span data-i18n="–°–æ—Ö—Ä–∞–Ω–∏—Ç—å">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</span>
                </button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–æ—à–µ–ª—å–∫–∞ -->
    <div id="add-wallet-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title" data-i18n="–î–æ–±–∞–≤–∏—Ç—å –∫–æ—à–µ–ª—ë–∫">–î–æ–±–∞–≤–∏—Ç—å –∫–æ—à–µ–ª—ë–∫</div>
            </div>
            
            <form id="add-wallet-form">
                <div class="form-group">
                    <label class="form-label" data-i18n="–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ—à–µ–ª—å–∫–∞">–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ—à–µ–ª—å–∫–∞</label>
                    <input type="text" class="form-input" id="wallet-name-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –¢–∏–Ω—å–∫–æ—Ñ—Ñ" data-i18n-placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –¢–∏–Ω—å–∫–æ—Ñ—Ñ" maxlength="20" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label" data-i18n="–ò–∫–æ–Ω–∫–∞">–ò–∫–æ–Ω–∫–∞</label>
                    <div class="icon-picker" id="wallet-icons-grid">
                        <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-checkbox" style="display: flex; align-items: center; gap: 8px;">
                        <input type="checkbox" id="wallet-is-default" style="width: 20px; height: 20px;">
                        <span style="font-size: 15px; color: var(--ios-text-primary);" data-i18n="–°–¥–µ–ª–∞—Ç—å –∫–æ—à–µ–ª—å–∫–æ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é">–°–¥–µ–ª–∞—Ç—å –∫–æ—à–µ–ª—å–∫–æ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é</span>
                    </label>
                </div>
                
                <div class="modal-actions">
                    <button type="button" class="modal-btn secondary" onclick="closeModal('add-wallet-modal')">
                        <span data-i18n="–û—Ç–º–µ–Ω–∞">–û—Ç–º–µ–Ω–∞</span>
                    </button>
                    <button type="submit" class="modal-btn primary">
                        <span data-i18n="–î–æ–±–∞–≤–∏—Ç—å">–î–æ–±–∞–≤–∏—Ç—å</span>
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
