<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>üí∞ –§–∏–Ω–∞–Ω—Å—ã</title>
    
    <!-- –°—Ç–∏–ª–∏ -->
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    
    <!-- –°–∫—Ä–∏–ø—Ç—ã -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <!-- –ó–∞–≥—Ä—É–∑–∫–∞ -->
    <div id="loading" class="loading">
        <div class="loading-spinner"></div>
        <div class="loading-text">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <div id="main-content" style="display: none;">
        <!-- –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å -->
        <div class="section-header">
            <div>
                <div class="section-title">–§–∏–Ω–∞–Ω—Å—ã</div>
                <div class="section-subtitle">–£—á—ë—Ç –¥–æ—Ö–æ–¥–æ–≤ –∏ —Ä–∞—Å—Ö–æ–¥–æ–≤</div>
            </div>
            
            <!-- –í—ã–±–æ—Ä –≤–∞–ª—é—Ç—ã -->
            <div class="currency-selector">
                <button class="dropdown-btn" id="currency-btn">
                    <span id="currency-symbol">‚ÇΩ</span>
                    <span id="currency-code">RUB</span>
                </button>
                <div id="currency-dropdown" class="hidden" style="position: absolute; top: 100%; right: 0; background: var(--tg-surface); border: 0.5px solid var(--tg-tertiary); border-radius: var(--border-radius-small); padding: 8px; min-width: 120px; z-index: 1000;">
                    <div class="currency-option selected" data-currency="RUB" onclick="selectCurrency('RUB')">
                        <span>‚ÇΩ</span> RUB
                    </div>
                    <div class="currency-option" data-currency="USD" onclick="selectCurrency('USD')">
                        <span>$</span> USD
                    </div>
                    <div class="currency-option" data-currency="EUR" onclick="selectCurrency('EUR')">
                        <span>‚Ç¨</span> EUR
                    </div>
                    <div class="currency-option" data-currency="GEL" onclick="selectCurrency('GEL')">
                        <span>‚Çæ</span> GEL
                    </div>
                </div>
            </div>
        </div>

        <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü -->
        <div class="page-container">
            <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ 1: –ü–∞–Ω–µ–ª—å -->
            <div id="panel-page" class="page active">
                <!-- –°–∞–ª—å–¥–æ -->
                <div class="balance-card">
                    <div class="balance-label">–°–∞–ª—å–¥–æ</div>
                    <div class="balance-amount" id="balance">0 ‚ÇΩ</div>
                    <div class="balance-subtitle">–û–±—â–∏–π –±–∞–ª–∞–Ω—Å</div>
                </div>

                <!-- –î–æ—Ö–æ–¥—ã -->
                <div class="card">
                    <div class="card-title">
                        <span class="card-title-icon">üí∞</span>
                        –î–æ—Ö–æ–¥—ã
                    </div>
                    <div class="categories-list" id="income-categories">
                        <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                    </div>
                </div>

                <!-- –ö–æ—à–µ–ª—å–∫–∏ -->
                <div class="card">
                    <div class="card-title">
                        <span class="card-title-icon">üí≥</span>
                        –ö–æ—à–µ–ª—å–∫–∏
                    </div>
                    <div class="categories-list" id="wallet-categories">
                        <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                    </div>
                </div>

                <!-- –†–∞—Å—Ö–æ–¥—ã -->
                <div class="card">
                    <div class="card-title">
                        <span class="card-title-icon">üìâ</span>
                        –†–∞—Å—Ö–æ–¥—ã
                    </div>
                    <div class="categories-list" id="expense-categories">
                        <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                    </div>
                </div>

                <!-- –ù–∞–∫–æ–ø–ª–µ–Ω–∏—è -->
                <div class="card">
                    <div class="card-title">
                        <span class="card-title-icon">üè¶</span>
                        –ù–∞–∫–æ–ø–ª–µ–Ω–∏—è
                    </div>
                    <div class="categories-list" id="savings-categories">
                        <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                    </div>
                </div>

                <!-- –ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ -->
                <div class="card">
                    <div class="card-title">
                        <span class="card-title-icon">üïê</span>
                        –ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
                    </div>
                    <div class="categories-list" id="recent-transactions">
                        <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                    </div>
                </div>
            </div>

            <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ 2: –ò—Å—Ç–æ—Ä–∏—è -->
            <div id="history-page" class="page">
                <!-- –ü–æ–∏—Å–∫ -->
                <div class="search-bar">
                    <span class="search-icon">üîç</span>
                    <input type="text" placeholder="–ü–æ–∏—Å–∫ –ø–æ –ø—Ä–∏–º–µ—á–∞–Ω–∏—è–º" id="search-input">
                </div>

                <!-- –ú–µ—Å—è—Ü -->
                <div class="month-selector">
                    <button class="month-nav" id="prev-month">‚Üê</button>
                    <div class="month-display" id="current-month">
                        —Ñ–µ–≤—Ä–∞–ª—å 2026
                    </div>
                    <button class="month-nav" id="next-month">‚Üí</button>
                </div>

                <!-- –°–∞–ª—å–¥–æ –º–µ—Å—è—Ü–∞ -->
                <div class="card" style="text-align: center;">
                    <div class="balance-label">–°–∞–ª—å–¥–æ</div>
                    <div class="balance-amount" id="month-balance">0 ‚ÇΩ</div>
                </div>

                <!-- –§–∏–ª—å—Ç—Ä—ã -->
                <div style="display: flex; gap: 8px; margin: 0 16px 16px;">
                    <button class="filter-btn active" data-filter="all">–í—Å–µ</button>
                    <button class="filter-btn" data-filter="income">–î–æ—Ö–æ–¥—ã</button>
                    <button class="filter-btn" data-filter="expense">–†–∞—Å—Ö–æ–¥—ã</button>
                </div>

                <!-- –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –º–µ—Å—è—Ü–∞ -->
                <div class="card" style="min-height: 300px;">
                    <div id="month-transactions">
                        <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                    </div>
                </div>
            </div>

            <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ 3: –û—Ç—á—ë—Ç -->
            <div id="report-page" class="page">
                <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
                <div class="section-header" style="padding-bottom: 0;">
                    <div>
                        <div class="section-title">–û—Ç—á—ë—Ç</div>
                    </div>
                </div>

                <!-- –í–∫–ª–∞–¥–∫–∏ –æ—Ç—á—ë—Ç–∞ -->
                <div class="report-tabs">
                    <button class="report-tab active" data-tab="overview">
                        –û–±–∑–æ—Ä
                    </button>
                    <button class="report-tab" data-tab="income">
                        –î–æ—Ö–æ–¥—ã
                    </button>
                    <button class="report-tab" data-tab="expense">
                        –†–∞—Å—Ö–æ–¥—ã
                    </button>
                    <button class="report-tab" data-tab="savings">
                        –ù–∞–∫–æ–ø–ª–µ–Ω–∏—è
                    </button>
                    <button class="report-tab" data-tab="balance">
                        –ë–∞–ª–∞–Ω—Å
                    </button>
                </div>

                <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤–∫–ª–∞–¥–æ–∫ -->
                <div class="tab-content-container">
                    <!-- –í–∫–ª–∞–¥–∫–∞ 1: –û–±–∑–æ—Ä -->
                    <div id="tab-overview" class="tab-content active">
                        <!-- –î–∏–∞–≥—Ä–∞–º–º–∞ -->
                        <div class="card">
                            <div class="card-title">–î–æ—Ö–æ–¥—ã –∏ —Ä–∞—Å—Ö–æ–¥—ã</div>
                            <div class="chart-container">
                                <canvas id="finance-chart"></canvas>
                            </div>
                            
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-top: 20px;">
                                <div style="text-align: center;">
                                    <div style="font-size: 12px; color: var(--tg-text-secondary); margin-bottom: 4px;">–î–æ—Ö–æ–¥—ã</div>
                                    <div style="font-size: 18px; font-weight: 600; color: var(--tg-green);" id="total-income-stat">0 ‚ÇΩ</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 12px; color: var(--tg-text-secondary); margin-bottom: 4px;">–†–∞—Å—Ö–æ–¥—ã</div>
                                    <div style="font-size: 18px; font-weight: 600; color: var(--tg-red);" id="total-expense-stat">0 ‚ÇΩ</div>
                                </div>
                            </div>
                        </div>

                        <!-- –ù–∞–∫–æ–ø–ª–µ–Ω–∏—è -->
                        <div class="card">
                            <div class="card-title">–ù–∞–∫–æ–ø–ª–µ–Ω–∏—è</div>
                            <div class="chart-container">
                                <canvas id="savings-chart"></canvas>
                            </div>
                            <div style="text-align: center; margin-top: 16px;">
                                <div style="font-size: 18px; font-weight: 600; color: var(--tg-yellow);" id="total-savings-stat">0 ‚ÇΩ</div>
                                <div style="font-size: 12px; color: var(--tg-text-secondary); margin-top: 4px;">–í—Å–µ–≥–æ –Ω–∞–∫–æ–ø–ª–µ–Ω–æ</div>
                            </div>
                        </div>

                        <!-- –ë–∞–ª–∞–Ω—Å -->
                        <div class="card">
                            <div class="card-title">–ë–∞–ª–∞–Ω—Å</div>
                            <div style="text-align: center; padding: 20px;">
                                <div style="font-size: 32px; font-weight: 700;" id="total-balance-stat">0 ‚ÇΩ</div>
                                <div style="font-size: 14px; color: var(--tg-text-secondary); margin-top: 8px;">–¢–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å</div>
                            </div>
                        </div>
                    </div>

                    <!-- –í–∫–ª–∞–¥–∫–∞ 2: –î–æ—Ö–æ–¥—ã -->
                    <div id="tab-income" class="tab-content">
                        <div class="premium-banner">
                            <div class="premium-title">–ì—Ä–∞—Ñ–∏–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã —Å –ø—Ä–µ–º–∏—É–º–æ–º</div>
                            <div class="premium-description">–î–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ –¥–æ—Ö–æ–¥–∞–º</div>
                            <button class="premium-button">–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å</button>
                        </div>

                        <div class="card">
                            <div class="card-title">–ë—é–¥–∂–µ—Ç</div>
                            <div style="text-align: center; padding: 20px;">
                                <div style="font-size: 32px; font-weight: 700;">0 ‚ÇΩ</div>
                                <div style="font-size: 14px; color: var(--tg-text-secondary); margin-top: 8px;">–ü–ª–∞–Ω–æ–≤—ã–π –¥–æ—Ö–æ–¥</div>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-title">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</div>
                            <div style="padding: 20px 0;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 16px;">
                                    <div style="font-size: 14px; color: var(--tg-text-secondary);">–í—Å–µ–≥–æ –¥–æ—Ö–æ–¥–æ–≤</div>
                                    <div style="font-size: 16px; font-weight: 600;" id="total-income-stat-2">0 ‚ÇΩ</div>
                                </div>
                                <div style="display: flex; justify-content: space-between; margin-bottom: 16px;">
                                    <div style="font-size: 14px; color: var(--tg-text-secondary);">~ –≤ –¥–µ–Ω—å</div>
                                    <div style="font-size: 16px; font-weight: 600;">0 ‚ÇΩ</div>
                                </div>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-title">–î–æ—Ö–æ–¥—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º</div>
                            <div id="income-breakdown" class="categories-list" style="margin-top: 16px;">
                                <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                            </div>
                        </div>
                    </div>

                    <!-- –í–∫–ª–∞–¥–∫–∞ 3: –†–∞—Å—Ö–æ–¥—ã -->
                    <div id="tab-expense" class="tab-content">
                        <div class="premium-banner">
                            <div class="premium-title">–ì—Ä–∞—Ñ–∏–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã —Å –ø—Ä–µ–º–∏—É–º–æ–º</div>
                            <div class="premium-description">–î–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ —Ä–∞—Å—Ö–æ–¥–∞–º</div>
                            <button class="premium-button">–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å</button>
                        </div>

                        <div class="card">
                            <div class="card-title">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</div>
                            <div style="padding: 20px 0;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 16px;">
                                    <div style="font-size: 14px; color: var(--tg-text-secondary);">–í—Å–µ–≥–æ —Ä–∞—Å—Ö–æ–¥–æ–≤</div>
                                    <div style="font-size: 16px; font-weight: 600;" id="total-expense-stat-2">0 ‚ÇΩ</div>
                                </div>
                                <div style="display: flex; justify-content: space-between; margin-bottom: 16px;">
                                    <div style="font-size: 14px; color: var(--tg-text-secondary);">~ –≤ –¥–µ–Ω—å</div>
                                    <div style="font-size: 16px; font-weight: 600;">0 ‚ÇΩ</div>
                                </div>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-title">–†–∞—Å—Ö–æ–¥—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º</div>
                            <div id="expense-breakdown" class="categories-list" style="margin-top: 16px;">
                                <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                            </div>
                        </div>
                    </div>

                    <!-- –í–∫–ª–∞–¥–∫–∞ 4: –ù–∞–∫–æ–ø–ª–µ–Ω–∏—è -->
                    <div id="tab-savings" class="tab-content">
                        <div class="card">
                            <div class="card-title">–ü—Ä–æ–≥—Ä–µ—Å—Å –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–π</div>
                            <div style="text-align: center; padding: 20px;">
                                <div style="font-size: 32px; font-weight: 700; color: var(--tg-yellow);" id="total-savings-stat-2">0 ‚ÇΩ</div>
                                <div style="font-size: 14px; color: var(--tg-text-secondary); margin-top: 8px;">–í—Å–µ–≥–æ –Ω–∞–∫–æ–ø–ª–µ–Ω–æ</div>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-title">–¶–µ–ª–∏</div>
                            <div class="categories-list" style="margin-top: 16px;">
                                <button class="category-item">
                                    <div class="category-icon">üè†</div>
                                    <div class="category-info">
                                        <div class="category-name">–ö–≤–∞—Ä—Ç–∏—Ä–∞</div>
                                        <div class="category-description">5 000 000 ‚ÇΩ</div>
                                    </div>
                                    <div class="category-amount">0%</div>
                                </button>
                                <button class="category-item">
                                    <div class="category-icon">üöó</div>
                                    <div class="category-info">
                                        <div class="category-name">–ê–≤—Ç–æ–º–æ–±–∏–ª—å</div>
                                        <div class="category-description">1 500 000 ‚ÇΩ</div>
                                    </div>
                                    <div class="category-amount">0%</div>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- –í–∫–ª–∞–¥–∫–∞ 5: –ë–∞–ª–∞–Ω—Å -->
                    <div id="tab-balance" class="tab-content">
                        <div class="card">
                            <div class="card-title">–î–∏–Ω–∞–º–∏–∫–∞ –±–∞–ª–∞–Ω—Å–∞</div>
                            <div style="text-align: center; padding: 40px 20px;">
                                <div style="font-size: 48px; color: var(--tg-text-tertiary); margin-bottom: 16px;">üìä</div>
                                <div style="font-size: 16px; color: var(--tg-text-secondary);">
                                    –ì—Ä–∞—Ñ–∏–∫ –¥–∏–Ω–∞–º–∏–∫–∏ –¥–æ—Å—Ç—É–ø–µ–Ω —Å –ø—Ä–µ–º–∏—É–º–æ–º
                                </div>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-title">–¢–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å</div>
                            <div style="text-align: center; padding: 20px;">
                                <div style="font-size: 32px; font-weight: 700;" id="current-balance">0 ‚ÇΩ</div>
                                <div style="font-size: 14px; color: var(--tg-text-secondary); margin-top: 8px;">–ê–∫—Ç—É–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å</div>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-title">–ò–∑–º–µ–Ω–µ–Ω–∏–µ –∑–∞ –º–µ—Å—è—Ü</div>
                            <div style="text-align: center; padding: 20px;">
                                <div style="font-size: 24px; font-weight: 700; color: var(--tg-green);" id="month-change">+0 ‚ÇΩ</div>
                                <div style="font-size: 14px; color: var(--tg-text-secondary); margin-top: 8px;">–ü–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –ø—Ä–æ—à–ª—ã–º –º–µ—Å—è—Ü–µ–º</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- –ù–∏–∂–Ω—è—è –ø–∞–Ω–µ–ª—å –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ -->
        <nav class="bottom-nav">
            <button class="nav-item active" data-page="panel">
                <span class="nav-icon">‚öôÔ∏è</span>
                <span class="nav-label">–ü–∞–Ω–µ–ª—å</span>
            </button>
            <button class="nav-item" data-page="history">
                <span class="nav-icon">üìÖ</span>
                <span class="nav-label">–ò—Å—Ç–æ—Ä–∏—è</span>
            </button>
            <button class="nav-item" data-page="report">
                <span class="nav-icon">üìä</span>
                <span class="nav-label">–û—Ç—á—ë—Ç</span>
            </button>
        </nav>

        <!-- –ö–Ω–æ–ø–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è (+) -->
        <button id="add-transaction-btn" class="add-button">
            +
        </button>

        <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
        <div id="notification" class="notification"></div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ -->
    <div id="add-transaction-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-title" id="modal-title">–î–æ–±–∞–≤–∏—Ç—å –¥–æ—Ö–æ–¥</div>
            
            <!-- –í—ã–±–æ—Ä —Ç–∏–ø–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ -->
            <div class="modal-tabs">
                <button class="modal-tab active" data-type="income">–î–æ—Ö–æ–¥</button>
                <button class="modal-tab" data-type="expense">–†–∞—Å—Ö–æ–¥</button>
            </div>
            
            <form id="add-transaction-form">
                <div class="form-group">
                    <label for="transaction-amount">–°—É–º–º–∞</label>
                    <div class="currency-input">
                        <span class="currency-symbol" id="modal-currency-symbol">‚ÇΩ</span>
                        <input type="number" id="transaction-amount" placeholder="0" min="1" step="1" required>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="transaction-category">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                    <select id="transaction-category" required>
                        <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="transaction-description">–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
                    <input type="text" id="transaction-description" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ó–∞—Ä–ø–ª–∞—Ç–∞ –∑–∞ —Ñ–µ–≤—Ä–∞–ª—å">
                </div>
                
                <div class="modal-buttons">
                    <button type="button" class="modal-btn cancel" onclick="closeModal('add-transaction-modal')">
                        –û—Ç–º–µ–Ω–∞
                    </button>
                    <button type="submit" class="modal-btn submit">
                        –î–æ–±–∞–≤–∏—Ç—å
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ -->
    <div id="add-category-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-title">–î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é</div>
            
            <form onsubmit="addNewCategory(); return false;">
                <div class="form-group">
                    <label for="category-name-input">–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</label>
                    <input type="text" id="category-name-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ö–∞—Ñ–µ" maxlength="20" required>
                </div>
                
                <div style="margin-bottom: 16px;">
                    <div style="font-size: 14px; color: var(--tg-text-secondary); margin-bottom: 8px;">–ò–∫–æ–Ω–∫–∞</div>
                    <div class="icons-grid" id="icons-grid">
                        <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                    </div>
                </div>
                
                <div class="modal-buttons">
                    <button type="button" class="modal-btn cancel" onclick="closeModal('add-category-modal')">
                        –û—Ç–º–µ–Ω–∞
                    </button>
                    <button type="submit" class="modal-btn submit">
                        –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ -->
    <div id="edit-transaction-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-title">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é</div>
            
            <form id="edit-transaction-form">
                <div class="form-group">
                    <label for="edit-amount">–°—É–º–º–∞</label>
                    <input type="number" id="edit-amount" placeholder="0" min="1" step="1" required>
                </div>
                
                <div class="form-group">
                    <label for="edit-category">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                    <select id="edit-category" required>
                        <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="edit-description">–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ</label>
                    <input type="text" id="edit-description" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ">
                </div>
                
                <div class="modal-buttons">
                    <button type="button" class="modal-btn cancel" onclick="closeModal('edit-transaction-modal')">
                        –û—Ç–º–µ–Ω–∞
                    </button>
                    <button type="button" class="modal-btn" id="edit-delete" style="background: var(--tg-red);">
                        –£–¥–∞–ª–∏—Ç—å
                    </button>
                    <button type="submit" class="modal-btn submit">
                        –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>